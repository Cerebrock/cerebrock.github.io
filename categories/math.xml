<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Musical Neuron (Posts about math)</title><link>https://cerebrock.github.io/</link><description></description><atom:link href="https://cerebrock.github.io/categories/math.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2019 &lt;a href="mailto:mtsgrinberg@gmail.com"&gt;MatÃ­as Grinberg&lt;/a&gt; </copyright><lastBuildDate>Thu, 14 Nov 2019 05:20:05 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>entre gradientes</title><link>https://cerebrock.github.io/posts/Entre%20gradientes/</link><dc:creator>MG</dc:creator><description>&lt;div&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Solving-a-large-scale-constrained-non-linear-program-for-operations-research-with-gradient-descent"&gt;Solving a large scale constrained non linear program for operations research with gradient descent&lt;a class="anchor-link" href="https://cerebrock.github.io/posts/Entre%20gradientes/#Solving-a-large-scale-constrained-non-linear-program-for-operations-research-with-gradient-descent"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;Task surveying&lt;/li&gt;
&lt;li&gt;Problem Formulation&lt;/li&gt;
&lt;li&gt;Introductory example&lt;/li&gt;
&lt;li&gt;Scipy &lt;/li&gt;
&lt;li&gt;CVXPY&lt;/li&gt;
&lt;li&gt;Solution with gradient descent&lt;/li&gt;
&lt;li&gt;Alternative geometric approach&lt;/li&gt;
&lt;li&gt;Extra comments on deployment:&lt;ul&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;Cloud Services&lt;/li&gt;
&lt;li&gt;Flask API with GPU support&lt;/li&gt;
&lt;li&gt;MSSQL Server&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Project-surveing"&gt;Project surveing&lt;a class="anchor-link" href="https://cerebrock.github.io/posts/Entre%20gradientes/#Project-surveing"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;When solving data science tasks for education purposes or in online challenges (ej. Kaggle), the problem objective is given explicitely, and many times even with adequate metrics. In industry that is not always the case, as it is frequent that clients do not bring forward a directly tractable formulation of the problem, or a &lt;em&gt;Key Performance Indicator&lt;/em&gt;. The optimization objective may not be trivial, so it is on the data scientist to define a formal statement. The task addressed is to distribute the stock for the next period, subject to different sets of constrains and avoiding large varations in a given vendor. Taking this inventory allocation case as example, we would not expect the user to know that the adequate L-norm for his allocation strategy was L-$\infty$. More even, the hierarchy of groupings given by the user may have been coded as high dimensional tensor, tree, hypergraph, or flattened vector. Let alone the strategy for the solution.&lt;/p&gt;
&lt;p&gt;A couple of initial meetings were required to design the interface, delimit the convinient funcionalities, and planning the deployment infraestructure. As I managed the develompent completely, I had to take into account aspects like client relationship, cost estimations, validation, and deployment. Coming from a more research oriented career, there are points to keep an eye on as for example, be very wary about promising dates and aim to overestimate ðŸ˜…. Along the way, we met for the team of analysts to audit the solution, and modify the scope and specs.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="Problem-statement"&gt;Problem statement&lt;a class="anchor-link" href="https://cerebrock.github.io/posts/Entre%20gradientes/#Problem-statement"&gt;Â¶&lt;/a&gt;&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;In abstract, optimization in this context is the process of choosing the best possible vector $\in R^n$ from a set. In this way it encompasses many ways of decision making, and so the reason for its ubiquitous relevance. The general formulation is:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$\begin{aligned}
&amp;amp; \underset{x}{\text{minimize}}
&amp;amp; &amp;amp; f(x) \\
&amp;amp; \text{subject to}
&amp;amp; &amp;amp; f_i(x) \leq b_i, \; i = 1, \ldots, m.
\end{aligned}$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;In our case, the problem consists on allocating certain inventory to their possible outlets minimizing the variation with respect to the previous period, and while satisfying arbitrary constrains defined on hierarchical and overlapping categories. A stock of a $p \in \mathbb{N^i}$ products has to be allocated to $s \in \mathbb{N^j}$ outlets. Equality and inequality restrictions intend to modulate sales in different areas, allow compliance to commercial agreements, and respond to diverse business needs. Both $p$ and $s$ are classified in multiple hierarchical levels, e.g. : &lt;em&gt;channel, area, group, delivery route...&lt;/em&gt; for $s$; &lt;em&gt;family, product, flavor...&lt;/em&gt; for $p$. 
    One possibility for the formulation is to organize this levels into a  but forcing symetry would conveys extra memory consumption assigning redundant space (allocating a quantity of each product for each outlet when not all products are sold at all outlets). Therefore a vector is constructed as $\textbf{q} = (s_0p_0, ..., s_ip_j)$, $\textbf{q} \in \mathbb{R}^{i \times j}$ where $p_is_j$ corresponds to the quantity of product $i$ in outlet $j$, and excluding the elements $i,j$ that are not applicable for the period distribution. Continuous relaxation of the $q$ vector is allowed for faster computation. The optimization problem is formulated as:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;If all $f_i(x)$ fulfil linearity conditions, $f_i(Î±x + Î²y) = Î±f_i(x) + Î²f_i(y)$, then the problem corresponds to a &lt;em&gt;linear program&lt;/em&gt;. A more general class of problems consist of all that comply $f_i(Î±x + Î²y) â‰¤ Î±f_i(x) + Î²f_i(y)$ given $Î±, Î² \in [0,1], Î± + Î² = 1$, corresponding to the domain of &lt;em&gt;convex problems&lt;/em&gt;. Finally, with $x \in \mathbb{Z}$, a &lt;em&gt;Mixed Integer Convex Non-Linear Program&lt;/em&gt; can be defined.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$\begin{aligned}
\underset{q}{\text{minimize }}
&amp;amp; 
| ( \mathbf{q} - \mathbf{q_{0}} ) \oslash  \mathbf{q_{0}} |^{\infty}
\\ \text{subject to: } 
&amp;amp; \textbf{R}\textbf{q} = \textbf{b} \\ 
&amp;amp; \textbf{M}\textbf{q} \leq \textbf{d}
\end{aligned}$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Where each row $r$ in $R \in \{0,1\}^{i \times j}$ represents a restriction and is defined as $r_i = 1$ if the corresponding element in $\textbf{q}$ is in the subset to which the restriction applies. The symbol $\oslash$ corresponds to element-wise (or Hadamard) division.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://cerebrock.github.io/posts/Entre%20gradientes/"&gt;Read moreâ€¦&lt;/a&gt; (22 min remaining to read)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</description><category>business</category><category>math</category><guid>https://cerebrock.github.io/posts/Entre%20gradientes/</guid><pubDate>Thu, 14 Nov 2019 03:00:00 GMT</pubDate></item></channel></rss>